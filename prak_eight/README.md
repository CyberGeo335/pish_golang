# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ8: –†–∞–±–æ—Ç–∞ —Å MongoDB: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏, CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏
`–§–ò–û`: –ö–æ–∑–∏–Ω –ì–µ–æ—Ä–≥–∏–π –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á

`–ì—Ä—É–ø–ø–∞`: –ü–ò–ú–û-01-25

## –¶–µ–ª—å:
* –ü–æ–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–Ω–æ–π –ë–î MongoDB (–¥–æ–∫—É–º–µ–Ω—Ç, –∫–æ–ª–ª–µ–∫—Ü–∏—è, BSON, _id:ObjectID);
* –ù–∞—É—á–∏—Ç—å—Å—è –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ MongoDB –∏–∑ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –¥—Ä–∞–π–≤–µ—Ä–∞;
* –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é, –∏–Ω–¥–µ–∫—Å—ã –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CRUD –¥–ª—è –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, notes);
* –û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –ø–∞–≥–∏–Ω–∞—Ü–∏—é, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–≤ —Ç.—á. —á–∞—Å—Ç–∏—á–Ω—ã–µ), —É–¥–∞–ª–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫;

---

> üí° Important: –í —Ü–µ–ª—è—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –¥–∏—Ä–∏–∫—Ç–æ—Ä–∏—è–º–∏
> –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç.
---

## –ó–∞–¥–∞–Ω–∏–µ:
* –ü–æ–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–Ω–æ–π –ë–î MongoDB (–¥–æ–∫—É–º–µ–Ω—Ç, –∫–æ–ª–ª–µ–∫—Ü–∏—è, BSON, _id:ObjectID);
* –ù–∞—É—á–∏—Ç—å—Å—è –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ MongoDB –∏–∑ Go —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ –¥—Ä–∞–π–≤–µ—Ä–∞;
* –°–æ–∑–¥–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é, –∏–Ω–¥–µ–∫—Å—ã –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å CRUD –¥–ª—è –æ–¥–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, notes);
* –û—Ç—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é, –ø–∞–≥–∏–Ω–∞—Ü–∏—é, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–≤ —Ç.—á. —á–∞—Å—Ç–∏—á–Ω—ã–µ), —É–¥–∞–ª–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫;


### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
‚îú‚îÄ‚îÄ prak_eight
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ README.md
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ assets
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ cmd
‚îÇ¬†¬† ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ prak_eight
‚îÇ¬†¬† ‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ main.go
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ docker-compose.yaml
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ go.mod
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ go.sum
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ internal
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ app
‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ app.go
‚îÇ¬†¬†     ‚îú‚îÄ‚îÄ db
‚îÇ¬†¬†     ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ mongo.go
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ notes
‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ handlers.go
‚îÇ¬†¬†         ‚îú‚îÄ‚îÄ model.go
‚îÇ¬†¬†         ‚îî‚îÄ‚îÄ repo.go

```

#### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
1) –ö–ª–æ–Ω–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/CyberGeo335/pish_golang.git
```
2) –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ Go –∏ Git –µ—Å—Ç—å:
```bash
prak_eight % go version
go version go1.23.2 darwin/arm64
prak_eight % git --version
git version 2.39.5 (Apple Git-154)
prak_eight % 
```
3) –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø—è—Ç—É—é –¥–æ–º–∞—à–Ω—é—é —Ä–∞–±–æ—Ç—É:
```bash
cd prak_eight/
```
4) –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –∫ –ë–î, –≤ –¥–∏—Ä–∏–∫—Ç–æ—Ä–∏–∏ `prak_eight` —É –≤–∞—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª `.env`:
```bash
MONGO_URI=mongodb://root:secret@localhost:27017/?authSource=admin
MONGO_DB=pz8_mdb
HTTP_ADDR=:8080
```
5) –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
prak_eight % go run ./cmd/prak_eight
```
#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
0) –ü–æ–¥–Ω–∏–º–µ–º docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è MongoDB:
```bash
pish_golang % cd prak_eight/

prak_eight % docker compose up -d
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–≥–æ —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–æ–¥–Ω—è—Ç:
![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-15%20–≤%2015.34.01.png)

1) –ü—Ä–æ–≤–µ—Ä–∏–º —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ curl:
```bash
curl -X POST -H "Content-Type: application/json" -d '{"title": "First note", "content": "Hello Mongo!"}' http://localhost:8080/api/v1/notes

```
–î–∞–ª–µ–µ –ø–æ–ª—É—á–∏–º —Å–ø–∏—Å–æ–∫:
```bash
http://localhost:8080/api/v1/notes?limit=5&skip=0&q=first

```

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:

![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-15%20–≤%2015.42.09.png)


2) –ü–æ–ª—É—á–∏–º id:
* `id` -> 6918625be506f7ba300e2a97

```bash
http://localhost:8080/api/v1/notes/6918625be506f7ba300e2a97
```

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:

![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-15%20–≤%2015.45.30.png)


3) –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:
```bash
curl -s -X PATCH http://localhost:8080/api/v1/notes/6918625be506f7ba300e2a97 -H "Content-Type: application/json" -d '{"content":"Updated content"}'
```
–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:

![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-15%20–≤%2015.58.05.png)

4) –£–¥–∞–ª–µ–Ω–∏–µ:
```bash
curl -i -X DELETE http://localhost:8080/api/v1/notes/6918625be506f7ba300e2a97
```

–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:

![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-15%20–≤%2015.59.30.png)

–û–°–¢–ê–õ–¨–ù–û–ï –í –†–ê–ë–û–¢–ï

