# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ6: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ORM (GORM). –ú–æ–¥–µ–ª–∏, –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏.
`–§–ò–û`: –ö–æ–∑–∏–Ω –ì–µ–æ—Ä–≥–∏–π –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á

`–ì—Ä—É–ø–ø–∞`: –ü–ò–ú–û-01-25

## –¶–µ–ª—å:
>üéØ –¶–µ–ª—å: –ü–æ–Ω—è—Ç—å —á—Ç–æ —Ç–∞–∫–æ–µ ORM (GORM), –Ω–∞—É—á–∏—Ç—å—Å—è –æ–ø–∏—Å—ã–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ Go-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏.
---

> üí° Important: –í —Ü–µ–ª—è—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞, –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Ç—å –æ–¥–∏–Ω —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –¥–∏—Ä–∏–∫—Ç–æ—Ä–∏—è–º–∏
> –¥–æ–º–∞—à–Ω–∏—Ö —Ä–∞–±–æ—Ç.
---

## –ó–∞–¥–∞–Ω–∏–µ:
* –ü–æ–Ω—è—Ç—å, —á—Ç–æ —Ç–∞–∫–æ–µ ORM –∏ —á–µ–º —É–¥–æ–±–µ–Ω GORM.
* –ù–∞—É—á–∏—Ç—å—Å—è –æ–ø–∏—Å—ã–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ Go-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã (–º–∏–≥—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ AutoMigrate).
* –û—Å–≤–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–µ —Å–≤—è–∑–∏: 1:N –∏ M:N + –≤—ã–±–æ—Ä–∫–∏ —Å Preload.
* –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–π REST (2‚Äì3 —Ä—É—á–∫–∏) –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞.


### –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
.
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ assets
‚îú‚îÄ‚îÄ cmd
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ prak_six
‚îÇ¬†¬†     ‚îî‚îÄ‚îÄ main.go
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ go.sum
‚îî‚îÄ‚îÄ internal
    ‚îú‚îÄ‚îÄ app
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ app.go
    ‚îú‚îÄ‚îÄ config
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ config.go
    ‚îú‚îÄ‚îÄ db
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ postgres.go
    ‚îú‚îÄ‚îÄ httpapi
    ‚îÇ¬†¬† ‚îú‚îÄ‚îÄ handlers.go
    ‚îÇ¬†¬† ‚îî‚îÄ‚îÄ router.go
    ‚îî‚îÄ‚îÄ models
        ‚îî‚îÄ‚îÄ models.go

```
 
#### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
1) –ö–ª–æ–Ω–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```
git clone https://github.com/CyberGeo335/pish_golang.git
```
2) –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ Go –∏ Git –µ—Å—Ç—å:
```bash
g.kozin@VIS prak_six % go version
go version go1.23.2 darwin/arm64
g.kozin@VIS prak_six % git --version
git version 2.39.5 (Apple Git-154)
g.kozin@VIS prak_five % 
prak_six
3) –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø—è—Ç—É—é –¥–æ–º–∞—à–Ω—é—é —Ä–∞–±–æ—Ç—É:
```bash
cd prak_six/
```
4) –î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã –°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –∫ –ë–î, –≤ –¥–∏—Ä–∏–∫—Ç–æ—Ä–∏–∏ `prak_six` —É –≤–∞—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª `.env`:
```bash
DB_HOST=1.1.1.1
DB_PORT=5432
DB_USER=—Å–ø—Ä–æ—Å–∏_–∞–≤—Ç–æ—Ä–∞
DB_PASSWORD=–∑–∞_–æ—Ä–¥—É
DB_NAME=–∑–∞_–¥–∞–ª–∞—Ä–∞–Ω
```
5) –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
g.kozin@VIS-G6572P prak_five % go run ./cmd/prak_six
```
#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:
–î–ª—è —Ä–∞–±–æ—Ç –±—ã–ª–∞ –∞—Ä–µ–Ω–¥–æ–≤–∞–Ω–∞ –í–ú –Ω–∞ Selectel. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Å–ª–µ–¥—É—é—â–∏–µ —Ä—É—á–∫–∏:

```bash
http://178.72.139.210:8080/health

http://178.72.139.210:8080/notes/1
```
1) –ü—Ä–æ–≤–µ—Ä–∏–º, —Å—Ç–∞—Ç—É—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è:
```bash
 curl 178.72.139.210:8080/health
```

![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-06%20–≤%2017.02.53.png)

–ø–æ–ª—É—á–∏–ª–∏ —Å—Ç–∞—Ç—É—Å "ok":
```
{
  "status": "ok"
}
```

2) –î–æ–±–∞–≤–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```
 curl -X POST http://178.72.139.210:8080/users -H "Content-Type: application/json" -d "{\"name\":\"Geo\",\"email\":\"geoK@gmail.com\"}"
```
–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:
![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-06%20–≤%2017.06.03.png)

3) –î–æ–±–∞–≤–∏–º –∑–∞–º–µ—Ç–∫—É:
```
curl -X POST http://178.72.139.210:8080/notes -H "Content-Type: application/json" -d "{\"title\":\"–í—Ç–æ—Ä–∞—è –∑–∞–º–µ—Ç–∫–∞\",\"content\":\"–¢–µ–∫—Å—Ç...\",\"userId\":2,\"tags\":[\"go\",\"gorm\"]}"
```
–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:
![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-06%20–≤%2017.09.33.png)

4) –ü—Ä–æ–≤–µ—Ä–∏–º –∑–∞–º–µ—Ç–∫—É:
```
http://178.72.139.210:8080/notes/2
```
–†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã:
![–°–∫—Ä–∏–Ω—à–æ—Ç –∑–∞–ø—É—Å–∫–∞](./assets/–°–Ω–∏–º–æ–∫%20—ç–∫—Ä–∞–Ω–∞%202025-11-06%20–≤%2017.13.04.png)
